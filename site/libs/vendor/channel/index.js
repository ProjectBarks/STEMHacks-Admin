/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/

!function(){var h,m=this,p=function(t){return void 0!==t},q=function(t,e,n){t=t.split("."),n=n||m,t[0]in n||!n.execScript||n.execScript("var "+t[0]);for(var i;t.length&&(i=t.shift());)!t.length&&p(e)?n[i]=e:n=n[i]?n[i]:n[i]={}},aa=function(t,e){for(var n,i=t.split("."),r=e||m;n=i.shift();){if(null==r[n])return null;r=r[n]}return r},ba=function(){},ca=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e},r=function(t){return"array"==ca(t)},da=function(t){var e=ca(t);return"array"==e||"object"==e&&"number"==typeof t.length},u=function(t){return"string"==typeof t},ea=function(t){return"number"==typeof t},w=function(t){return"function"==ca(t)},fa=function(t){var e=typeof t;return"object"==e&&null!=t||"function"==e},ia=function(t){return t[ga]||(t[ga]=++ha)},ga="closure_uid_"+(1e9*Math.random()>>>0),ha=0,ja=function(t){return t.call.apply(t.bind,arguments)},ka=function(t,e){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}},x=function(){return x=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka,x.apply(null,arguments)},la=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),t.apply(this,n)}},y=Date.now||function(){return+new Date},z=function(t,e){function n(){}n.prototype=e.prototype,t.C=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Qd=function(t,n){for(var i=Array(arguments.length-2),r=2;r<arguments.length;r++)i[r-2]=arguments[r];return e.prototype[n].apply(t,i)}};Function.prototype.bind=Function.prototype.bind||function(t){if(1<arguments.length){var e=Array.prototype.slice.call(arguments,1);return e.unshift(this,t),x.apply(null,e)}return x(this,t)};var A=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,A);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))};z(A,Error),A.prototype.name="CustomError";var ma,na=function(t){for(var e=t.split("%s"),n="",i=Array.prototype.slice.call(arguments,1);i.length&&1<e.length;)n+=e.shift()+i.shift();return n+e.join("%s")},oa=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},wa=function(t){return pa.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(qa,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(ra,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(sa,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ta,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ua,"&#39;")),-1!=t.indexOf("\x00")&&(t=t.replace(va,"&#0;")),t):t},qa=/&/g,ra=/</g,sa=/>/g,ta=/"/g,ua=/'/g,va=/\x00/g,pa=/[\x00&<>"']/,B=function(t,e){return-1!=t.indexOf(e)},xa=function(t,e){return e>t?-1:t>e?1:0},ya=function(t,e){e.unshift(t),A.call(this,na.apply(null,e)),e.shift()};z(ya,A),ya.prototype.name="AssertionError";var za=function(t,e,n,i){var r="Assertion failed";if(n)var r=r+(": "+n),s=i;else t&&(r+=": "+t,s=e);throw new ya(""+r,s||[])},C=function(t,e){t||za("",null,e,Array.prototype.slice.call(arguments,2))},Aa=function(t){throw new ya("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))},Ba=function(t,e){w(t)||za("Expected function but got %s: %s.",[ca(t),t],e,Array.prototype.slice.call(arguments,2))},D=Array.prototype,Ca=D.indexOf?function(t,e,n){return C(null!=t.length),D.indexOf.call(t,e,n)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,u(t))return u(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Da=D.forEach?function(t,e,n){C(null!=t.length),D.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=u(t)?t.split(""):t,s=0;i>s;s++)s in r&&e.call(n,r[s],s,t)},Ea=D.filter?function(t,e,n){return C(null!=t.length),D.filter.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=[],s=0,a=u(t)?t.split(""):t,o=0;i>o;o++)if(o in a){var h=a[o];e.call(n,h,o,t)&&(r[s++]=h)}return r},Fa=D.some?function(t,e,n){return C(null!=t.length),D.some.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=u(t)?t.split(""):t,s=0;i>s;s++)if(s in r&&e.call(n,r[s],s,t))return!0;return!1},Ga=function(t,e){var n,i=Ca(t,e);return(n=i>=0)&&(C(null!=t.length),D.splice.call(t,i,1)),n},Ha=function(){return D.concat.apply(D,arguments)},Ia=function(t){var e=t.length;if(e>0){for(var n=Array(e),i=0;e>i;i++)n[i]=t[i];return n}return[]},Ja=function(t,e){for(var n in t)e.call(void 0,t[n],n,t)},Ka="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),La=function(t){for(var e,n,i=1;i<arguments.length;i++){n=arguments[i];for(e in n)t[e]=n[e];for(var r=0;r<Ka.length;r++)e=Ka[r],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}},Ma=function(){var t=arguments.length;if(1==t&&r(arguments[0]))return Ma.apply(null,arguments[0]);for(var e={},n=0;t>n;n++)e[arguments[n]]=!0;return e},E;t:{var Na=m.navigator;if(Na){var Oa=Na.userAgent;if(Oa){E=Oa;break t}}E=""}var Pa=function(){return B(E,"Edge")||B(E,"Trident")||B(E,"MSIE")},Qa=function(){return B(E,"Edge")},Ra=B(E,"Opera")||B(E,"OPR"),F=Pa(),Sa=!(!B(E,"Gecko")||B(E.toLowerCase(),"webkit")&&!Qa()||B(E,"Trident")||B(E,"MSIE")||Qa()),G=B(E.toLowerCase(),"webkit")&&!Qa(),Ta=function(){var t=E;return Sa?/rv\:([^\);]+)(\)|;)/.exec(t):F&&Qa()?/Edge\/([\d\.]+)/.exec(t):F?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):G?/WebKit\/(\S+)/.exec(t):void 0},Ua=function(){var t=m.document;return t?t.documentMode:void 0},Wa=function(){if(Ra&&m.opera){var t=m.opera.version;return w(t)?t():t}var t="",e=Ta();return e&&(t=e?e[1]:""),F&&!Qa()&&(e=Ua(),e>parseFloat(t))?String(e):t}(),Xa={},H=function(t){var e;if(!(e=Xa[t])){e=0;for(var n=oa(String(Wa)).split("."),i=oa(String(t)).split("."),r=Math.max(n.length,i.length),s=0;0==e&&r>s;s++){var a=n[s]||"",o=i[s]||"",h=RegExp("(\\d*)(\\D*)","g"),c=RegExp("(\\d*)(\\D*)","g");do{var u=h.exec(a)||["","",""],l=c.exec(o)||["","",""];if(0==u[0].length&&0==l[0].length)break;e=xa(0==u[1].length?0:parseInt(u[1],10),0==l[1].length?0:parseInt(l[1],10))||xa(0==u[2].length,0==l[2].length)||xa(u[2],l[2])}while(0==e)}e=Xa[t]=e>=0}return e},Ya=m.document,Za=Ua(),$a=!Ya||!F||!Za&&Qa()?void 0:Za||("CSS1Compat"==Ya.compatMode?parseInt(Wa,10):5),ab=null,bb=null,cb=null,db=function(){this.n=-1},eb=function(t,e,n){for(this.n=-1,this.u=t,this.n=n||t.n||16,this.Fc=Array(this.n),this.Ob=Array(this.n),t=e,t.length>this.n&&(this.u.update(t),t=this.u.Ja(),this.u.reset()),n=0;n<this.n;n++)e=n<t.length?t[n]:0,this.Fc[n]=92^e,this.Ob[n]=54^e;this.u.update(this.Ob)};z(eb,db),eb.prototype.reset=function(){this.u.reset(),this.u.update(this.Ob)},eb.prototype.update=function(t,e){this.u.update(t,e)},eb.prototype.Ja=function(){var t=this.u.Ja();return this.u.reset(),this.u.update(this.Fc),this.u.update(t),this.u.Ja()};var fb=function(){this.n=-1,this.n=64,this.h=[],this.Fb=[],this.fd=[],this.mb=[],this.mb[0]=128;for(var t=1;t<this.n;++t)this.mb[t]=0;this.wb=this.za=0,this.reset()};z(fb,db),fb.prototype.reset=function(){this.h[0]=1732584193,this.h[1]=4023233417,this.h[2]=2562383102,this.h[3]=271733878,this.h[4]=3285377520,this.wb=this.za=0};var gb=function(t,e,n){n||(n=0);var i=t.fd;if(u(e))for(var r=0;16>r;r++)i[r]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(r=0;16>r;r++)i[r]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(r=16;80>r;r++){var s=i[r-3]^i[r-8]^i[r-14]^i[r-16];i[r]=4294967295&(s<<1|s>>>31)}e=t.h[0],n=t.h[1];for(var a,o=t.h[2],h=t.h[3],c=t.h[4],r=0;80>r;r++)40>r?20>r?(s=h^n&(o^h),a=1518500249):(s=n^o^h,a=1859775393):60>r?(s=n&o|h&(n|o),a=2400959708):(s=n^o^h,a=3395469782),s=(e<<5|e>>>27)+s+c+a+i[r]&4294967295,c=h,h=o,o=4294967295&(n<<30|n>>>2),n=e,e=s;t.h[0]=t.h[0]+e&4294967295,t.h[1]=t.h[1]+n&4294967295,t.h[2]=t.h[2]+o&4294967295,t.h[3]=t.h[3]+h&4294967295,t.h[4]=t.h[4]+c&4294967295};fb.prototype.update=function(t,e){if(null!=t){p(e)||(e=t.length);for(var n=e-this.n,i=0,r=this.Fb,s=this.za;e>i;){if(0==s)for(;n>=i;)gb(this,t,i),i+=this.n;if(u(t)){for(;e>i;)if(r[s]=t.charCodeAt(i),++s,++i,s==this.n){gb(this,r),s=0;break}}else for(;e>i;)if(r[s]=t[i],++s,++i,s==this.n){gb(this,r),s=0;break}}this.za=s,this.wb+=e}},fb.prototype.Ja=function(){var t=[],e=8*this.wb;56>this.za?this.update(this.mb,56-this.za):this.update(this.mb,this.n-(this.za-56));for(var n=this.n-1;n>=56;n--)this.Fb[n]=255&e,e/=256;for(gb(this,this.Fb),n=e=0;5>n;n++)for(var i=24;i>=0;i-=8)t[e]=this.h[n]>>i&255,++e;return t};var hb=Ma("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),jb=function(){this.vb="",this.dd=ib};jb.prototype.ya=!0,jb.prototype.ua=function(){return this.vb},jb.prototype.toString=function(){return"Const{"+this.vb+"}"};var kb=function(t){return t instanceof jb&&t.constructor===jb&&t.dd===ib?t.vb:(Aa("expected object of type Const, got '"+t+"'"),"type_error:Const")},ib={},mb=function(){this.ob="",this.bd=lb};mb.prototype.ya=!0;var lb={};mb.prototype.ua=function(){return this.ob},mb.prototype.toString=function(){return"SafeStyle{"+this.ob+"}"},mb.prototype.ib=function(t){return this.ob=t,this};var nb=(new mb).ib(""),ob=/^[-,."'%_!# a-zA-Z0-9]+$/,qb=function(){this.fa="",this.cd=pb};h=qb.prototype,h.ya=!0,h.ua=function(){return this.fa},h.Nb=!0,h.Ka=function(){return 1},h.toString=function(){return"SafeUrl{"+this.fa+"}"};var pb={},sb=function(){this.Xb="",this.ed=rb};h=sb.prototype,h.ya=!0,h.ua=function(){return this.Xb},h.Nb=!0,h.Ka=function(){return 1},h.toString=function(){return"TrustedResourceUrl{"+this.Xb+"}"};var rb={},ub=function(){this.fa="",this.ad=tb,this.uc=null};h=ub.prototype,h.Nb=!0,h.Ka=function(){return this.uc},h.ya=!0,h.ua=function(){return this.fa},h.toString=function(){return"SafeHtml{"+this.fa+"}"};var vb=function(t){return t instanceof ub&&t.constructor===ub&&t.ad===tb?t.fa:(Aa("expected object of type SafeHtml, got '"+t+"'"),"type_error:SafeHtml")},wb=/^[a-zA-Z0-9-]+$/,xb={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},Bb=function(){var t=0,e="",n=function(i){if(r(i))Da(i,n);else{if(!(i instanceof ub)){var s=null;i.Nb&&(s=i.Ka()),i=yb(wa(i.ya?i.ua():String(i)),s)}e+=vb(i),i=i.Ka(),0==t?t=i:0!=i&&t!=i&&(t=null)}};return Da(arguments,n),yb(e,t)},tb={},yb=function(t,e){return(new ub).ib(t,e)};ub.prototype.ib=function(t,e){return this.fa=t,this.uc=e,this},yb("<!DOCTYPE html>",0),yb("",0);var Cb=!F||F&&(Qa()||$a>=9),Db=!Sa&&!F||F&&F&&(Qa()||$a>=9)||Sa&&H("1.9.1");F&&H("9");var Fb=function(t){return t?(C(t,"Node cannot be null or undefined."),t=new Eb(9==t.nodeType?t:t.ownerDocument||t.document)):t=ma||(ma=new Eb),t},Hb=function(t,e){Ja(e,function(e,n){"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:n in Gb?t.setAttribute(Gb[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})},Gb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Jb=function(t,e,n){function i(n){n&&e.appendChild(u(n)?t.createTextNode(n):n)}for(var r=2;r<n.length;r++){var s=n[r];!da(s)||fa(s)&&0<s.nodeType?i(s):Da(Ib(s)?Ia(s):s,i)}},Kb=function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null},Ib=function(t){if(t&&"number"==typeof t.length){if(fa(t))return"function"==typeof t.item||"string"==typeof t.item;if(w(t))return"function"==typeof t.item}return!1},Eb=function(t){this.$=t||m.document||document},Lb=function(t,e){var n;n=t.$;var i=e&&"*"!=e?e.toUpperCase():"";return n=n.querySelectorAll&&n.querySelector&&i?n.querySelectorAll(i+""):n.getElementsByTagName(i||"*")};h=Eb.prototype,h.qc=function(){var t=this.$,e=arguments,n=e[0],i=e[1];if(!Cb&&i&&(i.name||i.type)){if(n=["<",n],i.name&&n.push(' name="',wa(i.name),'"'),i.type){n.push(' type="',wa(i.type),'"');var s={};La(s,i),delete s.type,i=s}n.push(">"),n=n.join("")}return n=t.createElement(n),i&&(u(i)?n.className=i:r(i)?n.className=i.join(" "):Hb(n,i)),2<e.length&&Jb(t,n,e),n},h.createElement=function(t){return this.$.createElement(t)},h.createTextNode=function(t){return this.$.createTextNode(String(t))},h.e=function(){var t=this.$;return t.parentWindow||t.defaultView},h.appendChild=function(t,e){t.appendChild(e)},h.removeNode=Kb,h.Bc=function(t){return Db&&void 0!=t.children?t.children:Ea(t.childNodes,function(t){return 1==t.nodeType})};var I=function(){this.V=this.V,this.ka=this.ka};I.prototype.V=!1,I.prototype.vc=function(){this.V||(this.V=!0,this.f())};var Mb=function(t,e){t.V?e.call(void 0):(t.ka||(t.ka=[]),t.ka.push(p(void 0)?x(e,void 0):e))};I.prototype.f=function(){if(this.ka)for(;this.ka.length;)this.ka.shift()()};var Nb=function(t){t&&"function"==typeof t.vc&&t.vc()},Ob=function(t,e){this.type=t,this.currentTarget=this.target=e,this.defaultPrevented=this.Ea=!1,this.Vc=!0};Ob.prototype.preventDefault=function(){this.defaultPrevented=!0,this.Vc=!1};var Pb=function(t){return Pb[" "](t),t};Pb[" "]=ba;var Qb=function(t,e){try{return Pb(t[e]),!0}catch(n){}return!1},Rb=!F||F&&(Qa()||$a>=9),Sb=F&&!H("9");!G||H("528"),Sa&&H("1.9b")||F&&H("8")||Ra&&H("9.5")||G&&H("528"),Sa&&!H("8")||F&&H("9");var Tb=function(t,e){if(Ob.call(this,t?t.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.cb=this.state=null,t){var n=this.type=t.type;this.target=t.target||t.srcElement,this.currentTarget=e;var i=t.relatedTarget;i?Sa&&(Qb(i,"nodeName")||(i=null)):"mouseover"==n?i=t.fromElement:"mouseout"==n&&(i=t.toElement),this.relatedTarget=i,this.offsetX=G||void 0!==t.offsetX?t.offsetX:t.layerX,this.offsetY=G||void 0!==t.offsetY?t.offsetY:t.layerY,this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0,this.button=t.button,this.keyCode=t.keyCode||0,this.charCode=t.charCode||("keypress"==n?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.state=t.state,this.cb=t,t.defaultPrevented&&this.preventDefault()}};z(Tb,Ob),Tb.prototype.preventDefault=function(){Tb.C.preventDefault.call(this);var t=this.cb;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Sb)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ub="closure_listenable_"+(1e6*Math.random()|0),Vb=function(t){return!(!t||!t[Ub])},Wb=0,Xb=function(t,e,n,i,r){this.ja=t,this.pb=null,this.src=e,this.type=n,this.ab=!!i,this.gb=r,this.key=++Wb,this.Fa=this.$a=!1},Yb=function(t){t.Fa=!0,t.ja=null,t.pb=null,t.src=null,t.gb=null},Zb=function(t){this.src=t,this.q={},this.Wa=0};Zb.prototype.add=function(t,e,n,i,r){var s=t.toString();t=this.q[s],t||(t=this.q[s]=[],this.Wa++);var a=$b(t,e,i,r);return a>-1?(e=t[a],n||(e.$a=!1)):(e=new Xb(e,this.src,s,!!i,r),e.$a=n,t.push(e)),e},Zb.prototype.remove=function(t,e,n,i){if(t=t.toString(),!(t in this.q))return!1;var r=this.q[t];return e=$b(r,e,n,i),e>-1?(Yb(r[e]),C(null!=r.length),D.splice.call(r,e,1),0==r.length&&(delete this.q[t],this.Wa--),!0):!1};var ac=function(t,e){var n=e.type;if(!(n in t.q))return!1;var i=Ga(t.q[n],e);return i&&(Yb(e),0==t.q[n].length&&(delete t.q[n],t.Wa--)),i};Zb.prototype.qb=function(t){t=t&&t.toString();var e,n=0;for(e in this.q)if(!t||e==t){for(var i=this.q[e],r=0;r<i.length;r++)++n,Yb(i[r]);delete this.q[e],this.Wa--}return n},Zb.prototype.Ma=function(t,e,n,i){t=this.q[t.toString()];var r=-1;return t&&(r=$b(t,e,n,i)),r>-1?t[r]:null};var $b=function(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.Fa&&s.ja==e&&s.ab==!!n&&s.gb==i)return r}return-1},bc="closure_lm_"+(1e6*Math.random()|0),cc={},dc=0,ec=function(t,e,n,i,s){if(r(e)){for(var a=0;a<e.length;a++)ec(t,e[a],n,i,s);return null}return n=fc(n),Vb(t)?t.jb(e,n,i,s):gc(t,e,n,!1,i,s)},gc=function(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var a=!!r,o=hc(t);return o||(t[bc]=o=new Zb(t)),n=o.add(e,n,i,r,s),n.pb?n:(i=ic(),n.pb=i,i.src=t,i.ja=n,t.addEventListener?t.addEventListener(e.toString(),i,a):t.attachEvent(jc(e.toString()),i),dc++,n)},ic=function(){var t=kc,e=Rb?function(n){return t.call(e.src,e.ja,n)}:function(n){return n=t.call(e.src,e.ja,n),n?void 0:n};return e},lc=function(t,e,n,i,s){if(r(e)){for(var a=0;a<e.length;a++)lc(t,e[a],n,i,s);return null}return n=fc(n),Vb(t)?t.Gc(e,n,i,s):gc(t,e,n,!0,i,s)},mc=function(t,e,n,i,s){if(r(e))for(var a=0;a<e.length;a++)mc(t,e[a],n,i,s);else n=fc(n),Vb(t)?t.dc(e,n,i,s):t&&(t=hc(t))&&(e=t.Ma(e,n,!!i,s))&&nc(e)},nc=function(t){if(ea(t)||!t||t.Fa)return!1;var e=t.src;if(Vb(e))return ac(e.P,t);var n=t.type,i=t.pb;return e.removeEventListener?e.removeEventListener(n,i,t.ab):e.detachEvent&&e.detachEvent(jc(n),i),dc--,(n=hc(e))?(ac(n,t),0==n.Wa&&(n.src=null,e[bc]=null)):Yb(t),!0},oc=function(t,e,n,i,r){return n=fc(n),i=!!i,Vb(t)?t.Ma(e,n,i,r):t&&(t=hc(t))?t.Ma(e,n,i,r):null},jc=function(t){return t in cc?cc[t]:cc[t]="on"+t},qc=function(t,e,n,i){var r=!0;if((t=hc(t))&&(e=t.q[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var s=e[t];s&&s.ab==n&&!s.Fa&&(s=pc(s,i),r=r&&!1!==s)}return r},pc=function(t,e){var n=t.ja,i=t.gb||t.src;return t.$a&&nc(t),n.call(i,e)},kc=function(t,e){if(t.Fa)return!0;if(!Rb){var n=e||aa("window.event"),i=new Tb(n,this),r=!0;if(!(0>n.keyCode||void 0!=n.returnValue)){t:{var s=!1;if(0==n.keyCode)try{n.keyCode=-1;break t}catch(a){s=!0}(s||void 0==n.returnValue)&&(n.returnValue=!0)}for(n=[],s=i.currentTarget;s;s=s.parentNode)n.push(s);for(var s=t.type,o=n.length-1;!i.Ea&&o>=0;o--){i.currentTarget=n[o];var h=qc(n[o],s,!0,i),r=r&&h}for(o=0;!i.Ea&&o<n.length;o++)i.currentTarget=n[o],h=qc(n[o],s,!1,i),r=r&&h}return r}return pc(t,new Tb(e,this))},hc=function(t){return t=t[bc],t instanceof Zb?t:null},rc="__closure_events_fn_"+(1e9*Math.random()>>>0),fc=function(t){return C(t,"Listener can not be null."),w(t)?t:(C(t.handleEvent,"An object listener must have handleEvent method."),t[rc]||(t[rc]=function(e){return t.handleEvent(e)}),t[rc])},sc=function(){I.call(this),this.P=new Zb(this),this.hd=this,this.Vb=null};z(sc,I),sc.prototype[Ub]=!0,h=sc.prototype,h.addEventListener=function(t,e,n,i){ec(this,t,e,n,i)},h.removeEventListener=function(t,e,n,i){mc(this,t,e,n,i)},h.dispatchEvent=function(t){tc(this);var e,n=this.Vb;if(n){e=[];for(var i=1;n;n=n.Vb)e.push(n),C(1e3>++i,"infinite loop")}if(n=this.hd,i=t.type||t,u(t))t=new Ob(t,n);else if(t instanceof Ob)t.target=t.target||n;else{var r=t;t=new Ob(i,n),La(t,r)}var s,r=!0;if(e)for(var a=e.length-1;!t.Ea&&a>=0;a--)s=t.currentTarget=e[a],r=uc(s,i,!0,t)&&r;if(t.Ea||(s=t.currentTarget=n,r=uc(s,i,!0,t)&&r,t.Ea||(r=uc(s,i,!1,t)&&r)),e)for(a=0;!t.Ea&&a<e.length;a++)s=t.currentTarget=e[a],r=uc(s,i,!1,t)&&r;return r},h.f=function(){sc.C.f.call(this),this.P&&this.P.qb(void 0),this.Vb=null},h.jb=function(t,e,n,i){return tc(this),this.P.add(String(t),e,!1,n,i)},h.Gc=function(t,e,n,i){return this.P.add(String(t),e,!0,n,i)},h.dc=function(t,e,n,i){return this.P.remove(String(t),e,n,i)};var uc=function(t,e,n,i){if(e=t.P.q[String(e)],!e)return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.Fa&&a.ab==n){var o=a.ja,h=a.gb||a.src;a.$a&&ac(t.P,a),r=!1!==o.call(h,i)&&r}}return r&&0!=i.Vc};sc.prototype.Ma=function(t,e,n,i){return this.P.Ma(String(t),e,n,i)};var tc=function(t){C(t.P,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},vc=function(t,e,n){this.xd=n,this.nd=t,this.Jd=e,this.kb=0,this.hb=null};vc.prototype.get=function(){var t;return 0<this.kb?(this.kb--,t=this.hb,this.hb=t.next,t.next=null):t=this.nd(),t},vc.prototype.put=function(t){this.Jd(t),this.kb<this.xd&&(this.kb++,t.next=this.hb,this.hb=t)};var wc=function(t){m.setTimeout(function(){throw t},0)},xc,yc=function(){var t=m.MessageChannel;if("undefined"==typeof t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!B(E,"Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow,t=e.document;t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host,t=x(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this);e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),"undefined"!=typeof t&&!Pa()){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(p(n.next)){n=n.next;var t=n.lc;n.lc=null,t()}},function(t){i.next={lc:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){m.setTimeout(t,0)}},zc=function(){this.Ab=this.oa=null},Cc=new vc(function(){return new Bc},function(t){t.reset()},100);zc.prototype.add=function(t,e){var n=Cc.get();n.set(t,e),this.Ab?this.Ab.next=n:(C(!this.oa),this.oa=n),this.Ab=n},zc.prototype.remove=function(){var t=null;return this.oa&&(t=this.oa,this.oa=this.oa.next,this.oa||(this.Ab=null),t.next=null),t};var Bc=function(){this.next=this.scope=this.Mb=null};Bc.prototype.set=function(t,e){this.Mb=t,this.scope=e,this.next=null},Bc.prototype.reset=function(){this.next=this.scope=this.Mb=null};var Hc=function(t,e){Dc||Ec(),Fc||(Dc(),Fc=!0),Gc.add(t,e)},Dc,Ec=function(){if(m.Promise&&m.Promise.resolve){var t=m.Promise.resolve();Dc=function(){t.then(Ic)}}else Dc=function(){var t=Ic;!w(m.setImmediate)||m.Window&&m.Window.prototype&&m.Window.prototype.setImmediate==m.setImmediate?(xc||(xc=yc()),xc(t)):m.setImmediate(t)}},Fc=!1,Gc=new zc,Ic=function(){for(var t=null;t=Gc.remove();){try{t.Mb.call(t.scope)}catch(e){wc(e)}Cc.put(t)}Fc=!1},Jc=function(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0},Kc=function(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}},Oc=function(t,e){if(this.j=0,this.X=void 0,this.ra=this.U=this.k=null,this.fb=this.Lb=!1,t==Lc)Mc(this,2,e);else try{var n=this;t.call(e,function(t){Mc(n,2,t)},function(t){if(!(t instanceof Nc))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Mc(n,3,t)})}catch(i){Mc(this,3,i)}},Pc=function(){this.next=this.context=this.Qa=this.Da=this.ga=null,this.Cb=!1};Pc.prototype.reset=function(){this.context=this.Qa=this.Da=this.ga=null,this.Cb=!1};var Qc=new vc(function(){return new Pc},function(t){t.reset()},100),Rc=function(t,e,n){var i=Qc.get();return i.Da=t,i.Qa=e,i.context=n,i},Lc=function(){};Oc.prototype.then=function(t,e,n){return null!=t&&Ba(t,"opt_onFulfilled should be a function."),null!=e&&Ba(e,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),Sc(this,w(t)?t:null,w(e)?e:null,n)},Jc(Oc),Oc.prototype.cancel=function(t){0==this.j&&Hc(function(){var e=new Nc(t);Tc(this,e)},this)};var Tc=function(t,e){if(0==t.j)if(t.k){var n=t.k;if(n.U){for(var i=0,r=null,s=null,a=n.U;a&&(a.Cb||(i++,a.ga==t&&(r=a),!(r&&i>1)));a=a.next)r||(s=a);r&&(0==n.j&&1==i?Tc(n,e):(s?(i=s,C(n.U),C(null!=i),i.next==n.ra&&(n.ra=i),i.next=i.next.next):Uc(n),Vc(n,r,3,e)))}t.k=null}else Mc(t,3,e)},Xc=function(t,e){t.U||2!=t.j&&3!=t.j||Wc(t),C(null!=e.Da),t.ra?t.ra.next=e:t.U=e,t.ra=e},Sc=function(t,e,n,i){var r=Rc(null,null,null);return r.ga=new Oc(function(t,s){r.Da=e?function(n){try{var r=e.call(i,n);t(r)}catch(a){s(a)}}:t,r.Qa=n?function(e){try{var r=n.call(i,e);!p(r)&&e instanceof Nc?s(e):t(r)}catch(a){s(a)}}:s}),r.ga.k=t,Xc(t,r),r.ga};Oc.prototype.Zc=function(t){C(1==this.j),this.j=0,Mc(this,2,t)},Oc.prototype.$c=function(t){C(1==this.j),this.j=0,Mc(this,3,t)};var Mc=function(t,e,n){if(0==t.j){if(t==n)e=3,n=new TypeError("Promise cannot resolve to itself");else{if(Kc(n)){t.j=1,e=n,n=t.Zc;var i=t.$c;return void(e instanceof Oc?(null!=n&&Ba(n,"opt_onFulfilled should be a function."),null!=i&&Ba(i,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),Xc(e,Rc(n||ba,i||null,t))):e.then(n,i,t))}if(fa(n))try{if(i=n.then,w(i))return void Yc(t,n,i)}catch(r){e=3,n=r}}t.X=n,t.j=e,t.k=null,Wc(t),3!=e||n instanceof Nc||Zc(t,n)}},Yc=function(t,e,n){t.j=1;var i=!1,r=function(e){i||(i=!0,t.Zc(e))},s=function(e){i||(i=!0,t.$c(e))};try{n.call(e,r,s)}catch(a){s(a)}},Wc=function(t){t.Lb||(t.Lb=!0,Hc(t.sd,t))},Uc=function(t){var e=null;return t.U&&(e=t.U,t.U=e.next,e.next=null),t.U||(t.ra=null),null!=e&&C(null!=e.Da),e};Oc.prototype.sd=function(){for(var t=null;t=Uc(this);)Vc(this,t,this.j,this.X);this.Lb=!1};var Vc=function(t,e,n,i){if(e.ga&&(e.ga.k=null),2==n)e.Da.call(e.context,i);else if(null!=e.Qa){if(!e.Cb)for(;t&&t.fb;t=t.k)t.fb=!1;e.Qa.call(e.context,i)}Qc.put(e)},Zc=function(t,e){t.fb=!0,Hc(function(){t.fb&&$c.call(null,e)})},$c=wc,Nc=function(t){A.call(this,t)};z(Nc,A),Nc.prototype.name="cancel";var ad=function(t,e){sc.call(this),this.Aa=t||1,this.Ga=e||m,this.Eb=x(this.Nd,this),this.Pb=y()};z(ad,sc),h=ad.prototype,h.enabled=!1,h.J=null,h.Nd=function(){if(this.enabled){var t=y()-this.Pb;t>0&&t<.8*this.Aa?this.J=this.Ga.setTimeout(this.Eb,this.Aa-t):(this.J&&(this.Ga.clearTimeout(this.J),this.J=null),this.dispatchEvent("tick"),this.enabled&&(this.J=this.Ga.setTimeout(this.Eb,this.Aa),this.Pb=y()))}},h.start=function(){this.enabled=!0,this.J||(this.J=this.Ga.setTimeout(this.Eb,this.Aa),this.Pb=y())},h.stop=function(){this.enabled=!1,this.J&&(this.Ga.clearTimeout(this.J),this.J=null)},h.f=function(){ad.C.f.call(this),this.stop(),delete this.Ga};var bd=function(t,e){if(!w(t)){if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=x(t.handleEvent,t)}return e>2147483647?-1:m.setTimeout(t,e||0)},cd=function(t,e,n){I.call(this),this.Qb=t,this.Aa=e||0,this.wa=n,this.kd=x(this.qd,this)};z(cd,I),h=cd.prototype,h.G=0,h.f=function(){cd.C.f.call(this),this.stop(),delete this.Qb,delete this.wa},h.start=function(t){this.stop(),this.G=bd(this.kd,p(t)?t:this.Aa)},h.stop=function(){0!=this.G&&m.clearTimeout(this.G),this.G=0},h.qd=function(){this.G=0,this.Qb&&this.Qb.call(this.wa)};var J=function(t){I.call(this),this.wa=t,this.g={}};z(J,I);var dd=[];J.prototype.jb=function(t,e,n,i){r(e)||(e&&(dd[0]=e.toString()),e=dd);for(var s=0;s<e.length;s++){var a=ec(t,e[s],n||this.handleEvent,i||!1,this.wa||this);if(!a)break;this.g[a.key]=a}return this},J.prototype.Gc=function(t,e,n,i){return ed(this,t,e,n,i)};var ed=function(t,e,n,i,s,a){if(r(n))for(var o=0;o<n.length;o++)ed(t,e,n[o],i,s,a);else{if(e=lc(e,n,i||t.handleEvent,s,a||t.wa||t),!e)return t;t.g[e.key]=e}return t};J.prototype.dc=function(t,e,n,i,s){if(r(e))for(var a=0;a<e.length;a++)this.dc(t,e[a],n,i,s);else(t=oc(t,e,n||this.handleEvent,i,s||this.wa||this))&&(nc(t),delete this.g[t.key]);return this},J.prototype.qb=function(){Ja(this.g,nc),this.g={}},J.prototype.f=function(){J.C.f.call(this),this.qb()},J.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fd=function(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)},id=function(t){var e=[];return gd(new hd,t,e),e.join("")},hd=function(){this.rb=void 0},gd=function(t,e,n){switch(typeof e){case"string":jd(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?e:"null");break;case"boolean":n.push(e);break;case"undefined":n.push("null");break;case"object":if(null==e){n.push("null");break}if(r(e)){var i=e.length;n.push("[");for(var s="",a=0;i>a;a++)n.push(s),s=e[a],gd(t,t.rb?t.rb.call(e,String(a),s):s,n),s=",";n.push("]");break}n.push("{"),i="";for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&(s=e[a],"function"!=typeof s&&(n.push(i),jd(a,n),n.push(":"),gd(t,t.rb?t.rb.call(e,a,s):s,n),i=","));n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof e)}},kd={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},ld=/\uffff/.test("ï¿¿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,jd=function(t,e){e.push('"',t.replace(ld,function(t){if(t in kd)return kd[t];var e=t.charCodeAt(0),n="\\u";return 16>e?n+="000":256>e?n+="00":4096>e&&(n+="0"),kd[t]=n+e.toString(16)}),'"')},md="StopIteration"in m?m.StopIteration:Error("StopIteration"),nd=function(){};nd.prototype.next=function(){throw md},nd.prototype.gd=function(){return this};var od=function(t){this.R={},this.g=[],this.zb=this.l=0;var e=arguments.length;if(e>1){if(e%2)throw Error("Uneven number of arguments");for(var n=0;e>n;n+=2)this.set(arguments[n],arguments[n+1])}else if(t){var i;if(t instanceof od)i=t.La(),n=t.va();else{var e=[],r=0;for(i in t)e[r++]=i;i=e,e=[],r=0;for(n in t)e[r++]=t[n];n=e}for(e=0;e<i.length;e++)this.set(i[e],n[e])}};od.prototype.va=function(){pd(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.R[this.g[e]]);return t},od.prototype.La=function(){return pd(this),this.g.concat()},od.prototype.Ia=function(t){return qd(this.R,t)},od.prototype.remove=function(t){return qd(this.R,t)?(delete this.R[t],this.l--,this.zb++,this.g.length>2*this.l&&pd(this),!0):!1};var pd=function(t){if(t.l!=t.g.length){for(var e=0,n=0;e<t.g.length;){var i=t.g[e];qd(t.R,i)&&(t.g[n++]=i),e++}t.g.length=n}if(t.l!=t.g.length){for(var r={},n=e=0;e<t.g.length;)i=t.g[e],qd(r,i)||(t.g[n++]=i,r[i]=1),e++;t.g.length=n}};h=od.prototype,h.get=function(t,e){return qd(this.R,t)?this.R[t]:e},h.set=function(t,e){qd(this.R,t)||(this.l++,this.g.push(t),this.zb++),this.R[t]=e},h.forEach=function(t,e){for(var n=this.La(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);t.call(e,s,r,this)}},h.clone=function(){return new od(this)},h.gd=function(t){pd(this);var e=0,n=this.g,i=this.R,r=this.zb,s=this,a=new nd;return a.next=function(){for(;;){if(r!=s.zb)throw Error("The map has changed since the iterator was created");if(e>=n.length)throw md;var a=n[e++];return t?a:i[a]}},a};var qd=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},rd=function(t,e,n,i,r){this.reset(t,e,n,i,r)};rd.prototype.ub=0,rd.prototype.xc=null;var sd=0;rd.prototype.reset=function(t,e,n,i,r){this.ub="number"==typeof r?r:sd++,i||y(),this.Oa=t,this.yd=e,delete this.xc},rd.prototype.Xc=function(t){this.Oa=t};var td=function(t){this.Kc=t,this.Cc=this.Hb=this.Oa=this.k=null},ud=function(t,e){this.name=t,this.value=e};ud.prototype.toString=function(){return this.name};var vd=new ud("SEVERE",1e3),wd=new ud("WARNING",900),xd=new ud("INFO",800),yd=new ud("CONFIG",700),zd=new ud("FINE",500),Ad=new ud("FINEST",300);td.prototype.getName=function(){return this.Kc},td.prototype.getParent=function(){return this.k},td.prototype.Bc=function(){return this.Hb||(this.Hb={}),this.Hb},td.prototype.Xc=function(t){this.Oa=t};var Bd=function(t){return t.Oa?t.Oa:t.k?Bd(t.k):(Aa("Root logger has no level set."),null)};td.prototype.log=function(t,e,n){if(t.value>=Bd(this).value)for(w(e)&&(e=e()),t=new rd(t,String(e),this.Kc),n&&(t.xc=n),n="log:"+t.yd,m.console&&(m.console.timeStamp?m.console.timeStamp(n):m.console.markTimeline&&m.console.markTimeline(n)),m.msWriteProfilerMark&&m.msWriteProfilerMark(n),n=this;n;){e=n;
var i=t;if(e.Cc)for(var r=0,s=void 0;s=e.Cc[r];r++)s(i);n=n.getParent()}},td.prototype.info=function(t,e){this.log(xd,t,e)};var Cd={},Dd=null,Ed=function(t){Dd||(Dd=new td(""),Cd[""]=Dd,Dd.Xc(yd));var e;if(!(e=Cd[t])){e=new td(t);var n=t.lastIndexOf("."),i=t.substr(n+1),n=Ed(t.substr(0,n));n.Bc()[i]=e,e.k=n,Cd[t]=e}return e},L=function(t){var e=K;e&&e.log(Ad,t,void 0)},N=function(t,e){var n=K;n&&n.log(vd,t,e)},O=function(t,e,n){t&&t.log(wd,e,n)},P=function(t){var e=K;e&&e.info(t,void 0)},Q=function(t){var e=K;e&&e.log(zd,t,void 0)},Fd=function(){I.call(this),this.ac={}};z(Fd,I),Fd.prototype.Rb=Ed("goog.messaging.AbstractChannel"),Fd.prototype.N=function(t){t&&t()},Fd.prototype.I=function(){return!0};var Gd=function(t,e,n){t.ac[e]={w:n,Lc:!1}};Fd.prototype.f=function(){Fd.C.f.call(this),delete this.Rb,delete this.ac,delete this.tc};var Hd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,Jd=function(t){if(Id){Id=!1;var e=m.location;if(e){var n=e.href;if(n&&(n=(n=Jd(n)[3]||null)?decodeURI(n):n)&&n!=e.hostname)throw Id=!0,Error()}}return t.match(Hd)},Id=G,Kd=function(t){var e=Jd(t);t=e[1];var n=e[2],i=e[3],e=e[4],r="";return t&&(r+=t+":"),i&&(r+="//",n&&(r+=n+"@"),r+=i,e&&(r+=":"+e)),r},Ld=function(t,e){for(var n=t.split("&"),i=0;i<n.length;i++){var r=n[i].indexOf("="),s=null,a=null;r>=0?(s=n[i].substring(0,r),a=n[i].substring(r+1)):s=n[i],e(s,a?decodeURIComponent(a.replace(/\+/g," ")):"")}},R=function(t,e){this.aa=this.na=this.B="",this.ea=null,this.ia=this.ca="",this.H=this.wd=!1;var n;if(t instanceof R)this.H=p(e)?e:t.H,Md(this,t.B),n=t.na,S(this),this.na=n,Nd(this,t.aa),Od(this,t.ea),Pd(this,t.ca),Qd(this,t.L.clone()),n=t.ia,S(this),this.ia=n;else if(t&&(n=Jd(String(t)))){this.H=!!e,Md(this,n[1]||"",!0);var i=n[2]||"";S(this),this.na=Rd(i),Nd(this,n[3]||"",!0),Od(this,n[4]),Pd(this,n[5]||"",!0),Qd(this,n[6]||"",!0),n=n[7]||"",S(this),this.ia=Rd(n)}else this.H=!!e,this.L=new Sd(null,0,this.H)};R.prototype.toString=function(){var t=[],e=this.B;if(e&&t.push(Td(e,Ud,!0),":"),e=this.aa){t.push("//");var n=this.na;n&&t.push(Td(n,Ud,!0),"@"),t.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e=this.ea,null!=e&&t.push(":",String(e))}return(e=this.ca)&&(this.aa&&"/"!=e.charAt(0)&&t.push("/"),t.push(Td(e,"/"==e.charAt(0)?Vd:Wd,!0))),(e=this.L.toString())&&t.push("?",e),(e=this.ia)&&t.push("#",Td(e,Xd)),t.join("")},R.prototype.resolve=function(t){var e=this.clone(),n=!!t.B;if(n?Md(e,t.B):n=!!t.na,n){var i=t.na;S(e),e.na=i}else n=!!t.aa;if(n?Nd(e,t.aa):n=null!=t.ea,i=t.ca,n)Od(e,t.ea);else if(n=!!t.ca){if("/"!=i.charAt(0))if(this.aa&&!this.ca)i="/"+i;else{var r=e.ca.lastIndexOf("/");-1!=r&&(i=e.ca.substr(0,r+1)+i)}if(r=i,".."==r||"."==r)i="";else if(B(r,"./")||B(r,"/.")){for(var i=0==r.lastIndexOf("/",0),r=r.split("/"),s=[],a=0;a<r.length;){var o=r[a++];"."==o?i&&a==r.length&&s.push(""):".."==o?((1<s.length||1==s.length&&""!=s[0])&&s.pop(),i&&a==r.length&&s.push("")):(s.push(o),i=!0)}i=s.join("/")}else i=r}return n?Pd(e,i):n=""!==t.L.toString(),n?Qd(e,Rd(t.L.toString())):n=!!t.ia,n&&(t=t.ia,S(e),e.ia=t),e},R.prototype.clone=function(){return new R(this)};var Md=function(t,e,n){S(t),t.B=n?Rd(e,!0):e,t.B&&(t.B=t.B.replace(/:$/,""))},Nd=function(t,e,n){S(t),t.aa=n?Rd(e,!0):e},Od=function(t,e){if(S(t),e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.ea=e}else t.ea=null},Pd=function(t,e,n){S(t),t.ca=n?Rd(e,!0):e},Qd=function(t,e,n){S(t),e instanceof Sd?(t.L=e,t.L.bc(t.H)):(n||(e=Td(e,Yd)),t.L=new Sd(e,0,t.H))},S=function(t){if(t.wd)throw Error("Tried to modify a read-only Uri")};R.prototype.bc=function(t){return this.H=t,this.L&&this.L.bc(t),this};var Rd=function(t,e){return t?e?decodeURI(t):decodeURIComponent(t):""},Td=function(t,e,n){return u(t)?(t=encodeURI(t).replace(e,$d),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null},$d=function(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)},Ud=/[#\/\?@]/g,Wd=/[\#\?:]/g,Vd=/[\#\?]/g,Yd=/[\#\?@]/g,Xd=/#/g,Sd=function(t,e,n){this.l=this.i=null,this.D=t||null,this.H=!!n},ae=function(t){t.i||(t.i=new od,t.l=0,t.D&&Ld(t.D,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))};h=Sd.prototype,h.add=function(t,e){ae(this),this.D=null,t=be(this,t);var n=this.i.get(t);return n||this.i.set(t,n=[]),n.push(e),this.l++,this},h.remove=function(t){return ae(this),t=be(this,t),this.i.Ia(t)?(this.D=null,this.l-=this.i.get(t).length,this.i.remove(t)):!1},h.Ia=function(t){return ae(this),t=be(this,t),this.i.Ia(t)},h.La=function(){ae(this);for(var t=this.i.va(),e=this.i.La(),n=[],i=0;i<e.length;i++)for(var r=t[i],s=0;s<r.length;s++)n.push(e[i]);return n},h.va=function(t){ae(this);var e=[];if(u(t))this.Ia(t)&&(e=Ha(e,this.i.get(be(this,t))));else{t=this.i.va();for(var n=0;n<t.length;n++)e=Ha(e,t[n])}return e},h.set=function(t,e){return ae(this),this.D=null,t=be(this,t),this.Ia(t)&&(this.l-=this.i.get(t).length),this.i.set(t,[e]),this.l++,this},h.get=function(t,e){var n=t?this.va(t):[];return 0<n.length?String(n[0]):e},h.toString=function(){if(this.D)return this.D;if(!this.i)return"";for(var t=[],e=this.i.La(),n=0;n<e.length;n++)for(var i=e[n],r=encodeURIComponent(String(i)),i=this.va(i),s=0;s<i.length;s++){var a=r;""!==i[s]&&(a+="="+encodeURIComponent(String(i[s]))),t.push(a)}return this.D=t.join("&")},h.clone=function(){var t=new Sd;return t.D=this.D,this.i&&(t.i=this.i.clone(),t.l=this.l),t};var be=function(t,e){var n=String(e);return t.H&&(n=n.toLowerCase()),n};Sd.prototype.bc=function(t){t&&!this.H&&(ae(this),this.D=null,this.i.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(this.remove(e),this.remove(n),0<t.length&&(this.D=null,this.i.set(be(this,n),Ia(t)),this.l+=t.length))},this)),this.H=t};var T=function(t,e){this.Y=[],this.Mc=t,this.sc=e||null,this.Na=this.F=!1,this.X=void 0,this.cc=this.kc=this.Db=!1,this.yb=0,this.k=null,this.Za=0};T.prototype.cancel=function(t){if(this.F)this.X instanceof T&&this.X.cancel();else{if(this.k){var e=this.k;delete this.k,t?e.cancel(t):(e.Za--,0>=e.Za&&e.cancel())}this.Mc?this.Mc.call(this.sc,this):this.cc=!0,this.F||this.wc(new ce)}},T.prototype.pc=function(t,e){this.Db=!1,de(this,t,e)};var de=function(t,e,n){t.F=!0,t.X=n,t.Na=!e,ee(t)},ge=function(t){if(t.F){if(!t.cc)throw new fe;t.cc=!1}};T.prototype.w=function(t){ge(this),he(t),de(this,!0,t)},T.prototype.wc=function(t){ge(this),he(t),de(this,!1,t)};var he=function(t){C(!(t instanceof T),"An execution sequence may not be initiated with a blocking Deferred.")},je=function(t,e,n){ie(t,e,null,n)},ie=function(t,e,n,i){C(!t.kc,"Blocking Deferreds can not be re-used"),t.Y.push([e,n,i]),t.F&&ee(t)};T.prototype.then=function(t,e,n){var i,r,s=new Oc(function(t,e){i=t,r=e});return ie(this,i,function(t){t instanceof ce?s.cancel():r(t)}),s.then(t,e,n)},Jc(T);var ke=function(t,e){e instanceof T?je(t,x(e.jd,e)):je(t,function(){return e})};T.prototype.jd=function(t){var e=new T;return ie(this,e.w,e.wc,e),t&&(e.k=this,this.Za++),e};var le=function(t){return Fa(t.Y,function(t){return w(t[1])})},ee=function(t){if(t.yb&&t.F&&le(t)){var e=t.yb,n=me[e];n&&(m.clearTimeout(n.G),delete me[e]),t.yb=0}t.k&&(t.k.Za--,delete t.k);for(var e=t.X,i=n=!1;t.Y.length&&!t.Db;){var r=t.Y.shift(),s=r[0],a=r[1],r=r[2];if(s=t.Na?a:s)try{var o=s.call(r||t.sc,e);p(o)&&(t.Na=t.Na&&(o==e||o instanceof Error),t.X=e=o),(Kc(e)||"function"==typeof m.Promise&&e instanceof m.Promise)&&(i=!0,t.Db=!0)}catch(h){e=h,t.Na=!0,le(t)||(n=!0)}}t.X=e,i&&(o=x(t.pc,t,!0),i=x(t.pc,t,!1),e instanceof T?(ie(e,o,i),e.kc=!0):e.then(o,i)),n&&(e=new ne(e),me[e.G]=e,t.yb=e.G)},fe=function(){A.call(this)};z(fe,A),fe.prototype.message="Deferred has already fired",fe.prototype.name="AlreadyCalledError";var ce=function(){A.call(this)};z(ce,A),ce.prototype.message="Deferred was canceled",ce.prototype.name="CanceledError";var ne=function(t){this.G=m.setTimeout(x(this.Md,this),0),this.rd=t};ne.prototype.Md=function(){throw C(me[this.G],"Cannot throw an error that is not scheduled."),delete me[this.G],this.rd};var me={},oe={1:"NativeMessagingTransport",2:"FrameElementMethodTransport",3:"IframeRelayTransport",4:"IframePollingTransport",5:"FlashTransport",6:"NixTransport",7:"DirectTransport"},pe=["pu","lru","pru","lpu","ppu"],U={},re=function(t){for(var e=qe,n=e.length,i="";0<t--;)i+=e.charAt(Math.floor(Math.random()*n));return i},qe="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",K=Ed("goog.net.xpc"),V=function(t){I.call(this),this.O=t||Fb()};z(V,I),V.prototype.ma=0,V.prototype.e=function(){return this.O.e()},V.prototype.getName=function(){return oe[String(this.ma)]||""};var te=function(t,e){V.call(this,e),this.a=t,this.ta=new J(this),Mb(this,la(Nb,this.ta)),this.S=new ad(100,this.e()),Mb(this,la(Nb,this.S)),this.r=new T,this.t=new T,this.o=new T,this.Kb=re(10),this.da=null,this.qa={},this.Dd=this.a.name,se(this.a,this.a.name+"_"+W(this.a)),this.Q=!1,ke(this.o,this.r),ke(this.o,this.t),je(this.o,this.Tb,this),this.o.w(!0),this.ta.jb(this.S,"tick",this.Pa),P("DirectTransport created. role="+W(this.a))};z(te,V);var ue={},xe=function(t){var e=new ve(t.channelName,t.service,t.payload);t=e.Gb;var n=e.Va,e=e.la;Q("messageReceived: channel="+t+", service="+n+", payload="+e);var i=U[t];if(i)return i.M(n,e),!0;var r,i=we(e)[0];for(r in U){var s=U[r];if(1==W(s)&&!s.I()&&"tp"==n&&"SETUP"==i)return se(s,t),s.M(n,e),!0}return P("channel name mismatch; message ignored."),!1};h=te.prototype,h.ma=7,h.xb=function(t){t=we(t);var e=t[1];switch(t[0]){case"SETUP_ACK":this.r.F||this.r.w(!0);break;case"SETUP":this.tb(),null!=this.da&&this.da!=e&&(P("Sending SETUP and changing peer ID to: "+e),this.Sa()),this.da=e}},h.Sa=function(){var t;t="SETUP,"+this.Kb,this.send("tp",t)},h.tb=function(){this.send("tp","SETUP_ACK"),this.t.F||this.t.w(!0)},h.N=function(){var t=this.e();if(t){var e=ia(t);0==(ue[e]||0)&&null==aa("crosswindowmessaging.channel",t)&&q("crosswindowmessaging.channel",xe,t),ue[e]++,this.Q=!0,this.Pa()}else Q("connect(): no window to initialize.")},h.Pa=function(){this.a.I()?this.S.stop():(this.S.start(),this.Sa())},h.send=function(t,e){if(this.a.A){var n=new ve(this.Dd+"_"+(0==W(this.a)?1:0),t,e);this.a.b.directSyncMode?this.yc(n):this.qa[ia(n)]=bd(x(this.yc,this,n),0)}else Q("send(): window not ready")},h.yc=function(t){var e=ia(t);this.qa[e]&&delete this.qa[e];try{var n=aa("crosswindowmessaging.channel",this.a.A)}catch(i){return void O(K,"Can't access other window, ignoring.",i)}if(null===n)O(K,"Peer window had no global function.");else try{n({channelName:t.Gb,service:t.Va,payload:t.la}),P("send(): channelName="+t.Gb+" service="+t.Va+" payload="+t.la)}catch(r){O(K,"Error performing call, ignoring.",r)}},h.Tb=function(){ye(this.a,0)},h.f=function(){if(this.Q){var t=this.e(),e=ia(t);1==--ue[e]&&q("crosswindowmessaging.channel",null,t)}this.qa&&(Ja(this.qa,function(t){m.clearTimeout(t)}),this.qa=null),this.r&&(this.r.cancel(),delete this.r),this.t&&(this.t.cancel(),delete this.t),this.o&&(this.o.cancel(),delete this.o),te.C.f.call(this)};var we=function(t){return t=t.split(","),t[1]=t[1]||null,t},ve=function(t,e,n){this.Gb=t,this.Va=e,this.la=n},ze=function(t,e){V.call(this,e),this.a=t,this.Ra=[],this.od=x(this.pd,this)};z(ze,V),h=ze.prototype,h.ma=2,h.Zb=!1,h.J=0,h.N=function(){0==W(this.a)?(this.W=this.a.xa,this.W.XPC_toOuter=x(this.Ec,this)):this.ic()},h.ic=function(){var t=!0;try{this.W||(this.W=this.e().frameElement),this.W&&this.W.XPC_toOuter&&(this.Ub=this.W.XPC_toOuter,this.W.XPC_toOuter.XPC_toInner=x(this.Ec,this),t=!1,this.send("tp","SETUP_ACK"),ye(this.a))}catch(e){N("exception caught while attempting setup: "+e)}t&&(this.hc||(this.hc=x(this.ic,this)),this.e().setTimeout(this.hc,100))},h.xb=function(t){if(0!=W(this.a)||this.a.I()||"SETUP_ACK"!=t)throw Error("Got unexpected transport message.");this.Ub=this.W.XPC_toOuter.XPC_toInner,ye(this.a)},h.Ec=function(t,e){this.Zb||0!=this.Ra.length?(this.Ra.push({Ld:t,la:e}),1==this.Ra.length&&(this.J=this.e().setTimeout(this.od,1))):this.a.M(t,e)},h.pd=function(){for(;this.Ra.length;){var t=this.Ra.shift();this.a.M(t.Ld,t.la)}},h.send=function(t,e){this.Zb=!0,this.Ub(t,e),this.Zb=!1},h.f=function(){ze.C.f.call(this),this.W=this.Ub=null};var X=function(t,e){V.call(this,e),this.a=t,this.Ua=this.a.b.ppu,this.Id=this.a.b.lpu,this.sb=[]},Ae,Be;z(X,V),h=X.prototype,h.Fd=5,h.ma=4,h.Y=0,h.Ha=!1,h.Q=!1,h.Tc=null;var Ce=function(t){return"googlexpc_"+t.a.name+"_msg"},De=function(t){return"googlexpc_"+t.a.name+"_ack"},Fe=function(t){try{if(!t.V&&Ee(t.a))return t.a.A.frames||{}}catch(e){Q("error retrieving peer frames")}return{}},Ge=function(t,e){return Fe(t)[e]};X.prototype.N=function(){if(!this.V&&Ee(this.a)){if(Q("transport connect called"),!this.Q){Q("initializing...");var t=Ce(this);this.Ca=He(this,t),this.Sb=this.e().frames[t],t=De(this),this.pa=He(this,t),this.Bb=this.e().frames[t],this.Q=!0}if(Ie(this,Ce(this))&&Ie(this,De(this)))Q("foreign frames present"),this.Ic=new Je(this,Ge(this,Ce(this)),x(this.Hd,this)),this.ec=new Je(this,Ge(this,De(this)),x(this.Gd,this)),this.nc();else{if(L("foreign frames not (yet) present"),1==W(this.a))this.Tc||0<this.Fd--||(L("Inner peer reconnect triggered."),se(this.a,re(10)),L("switching channels: "+this.a.name),Ke(this),this.Q=!1,this.Tc=He(this,"googlexpc_reconnect_"+this.a.name));else if(0==W(this.a)){L("outerPeerReconnect called");for(var t=Fe(this),e=t.length,n=0;e>n;n++){var i;try{t[n]&&t[n].name&&(i=t[n].name)}catch(r){}if(i){var s=i.split("_");if(3==s.length&&"googlexpc"==s[0]&&"reconnect"==s[1]){this.a.name=s[2],Ke(this),this.Q=!1;break}}}}this.e().setTimeout(x(this.N,this),100)}}};var He=function(t,e){L("constructing sender frame: "+e);var n;n=document.createElement("IFRAME");var i=n.style;return i.position="absolute",i.top="-10px",i.left="10px",i.width="1px",i.height="1px",n.id=n.name=e,n.src=t.Ua+"#INITIAL",t.e().document.body.appendChild(n),n},Ke=function(t){L("deconstructSenderFrames called"),t.Ca&&(t.Ca.parentNode.removeChild(t.Ca),t.Ca=null,t.Sb=null),t.pa&&(t.pa.parentNode.removeChild(t.pa),t.pa=null,t.Bb=null)},Ie=function(t,e){L("checking for receive frame: "+e);try{var n=Ge(t,e);if(!n||0!=n.location.href.indexOf(t.Id))return!1}catch(i){return!1}return!0};X.prototype.nc=function(){var t=Fe(this);t[De(this)]&&t[Ce(this)]?(this.Jc=new Le(this.Ua,this.Sb),this.Ya=new Le(this.Ua,this.Bb),Q("local frames ready"),this.e().setTimeout(x(function(){this.Jc.send("SETUP"),this.Ha=!0,Q("SETUP sent")},this),100)):(this.mc||(this.mc=x(this.nc,this)),this.e().setTimeout(this.mc,100),Q("local frames not (yet) present"))};var Me=function(t){if(t.$b&&t.Rc){if(ye(t.a),t.sa){Q("delivering queued messages ("+t.sa.length+")");for(var e,n=0;n<t.sa.length;n++)e=t.sa[n],t.a.M(e.Va,e.la);delete t.sa}}else L("checking if connected: ack sent:"+t.$b+", ack rcvd: "+t.Rc)};X.prototype.Hd=function(t){if(L("msg received: "+t),"SETUP"==t)this.Ya&&(this.Ya.send("SETUP_ACK"),L("SETUP_ACK sent"),this.$b=!0,Me(this));else if(this.a.I()||this.$b){var e=t.indexOf("|"),n=t.substring(0,e);if(t=t.substring(e+1),e=n.indexOf(","),-1==e){var i;this.Ya.send("ACK:"+n),Ne(this,t)}else i=n.substring(0,e),this.Ya.send("ACK:"+i),n=n.substring(e+1).split("/"),e=parseInt(n[0],10),n=parseInt(n[1],10),1==e&&(this.Wb=[]),this.Wb.push(t),e==n&&(Ne(this,this.Wb.join("")),delete this.Wb)}else O(K,"received msg, but channel is not connected")},X.prototype.Gd=function(t){L("ack received: "+t),"SETUP_ACK"==t?(this.Ha=!1,this.Rc=!0,Me(this)):this.a.I()?this.Ha?parseInt(t.split(":")[1],10)==this.Y?(this.Ha=!1,Oe(this)):O(K,"got ack with wrong sequence"):O(K,"got unexpected ack"):O(K,"received ack, but channel not connected")};var Oe=function(t){if(!t.Ha&&t.sb.length){var e=t.sb.shift();++t.Y,t.Jc.send(t.Y+e),L("msg sent: "+t.Y+e),t.Ha=!0}},Ne=function(t,e){var n=e.indexOf(":"),i=e.substr(0,n),n=e.substring(n+1);t.a.I()?t.a.M(i,n):((t.sa||(t.sa=[])).push({Va:i,la:n}),L("queued delivery"))};X.prototype.Xa=3800,X.prototype.send=function(t,e){var n=t+":"+e;if(!F||e.length<=this.Xa)this.sb.push("|"+n);else for(var i=e.length,r=Math.ceil(i/this.Xa),s=0,a=1;i>s;)this.sb.push(","+a+"/"+r+"|"+n.substr(s,this.Xa)),a++,s+=this.Xa;Oe(this)},X.prototype.f=function(){X.C.f.call(this);var t=Pe;Ga(t,this.Ic),Ga(t,this.ec),this.Ic=this.ec=null,Kb(this.Ca),Kb(this.pa),this.Sb=this.Bb=this.Ca=this.pa=null};var Pe=[],Qe=x(function(){var t,e=Pe,n=!1;try{for(var i=0;t=e[i];i++){var r;if(!(r=n)){var s=t,a=s.Qc.location.href;if(a!=s.rc){s.rc=a;var o=a.split("#")[1];o&&(o=o.substr(1),s.ld(decodeURIComponent(o))),r=!0}else r=!1}n=r}}catch(h){if(P("receive_() failed: "+h),t=t.p.a,P("Transport Error"),t.close(),!e.length)return}e=y(),n&&(Ae=e),Be=window.setTimeout(Qe,1e3>e-Ae?10:100)},X),Re=function(){Q("starting receive-timer"),Ae=y(),Be&&window.clearTimeout(Be),Be=window.setTimeout(Qe,10)},Le=function(t,e){this.Ua=t,this.Wc=e,this.Jb=0};Le.prototype.send=function(t){this.Jb=++this.Jb%2,t=this.Ua+"#"+this.Jb+encodeURIComponent(t);try{G?this.Wc.location.href=t:this.Wc.location.replace(t)}catch(e){N("sending failed",e)}Re()};var Je=function(t,e,n){this.p=t,this.Qc=e,this.ld=n,this.rc=this.Qc.location.href.split("#")[0]+"#INITIAL",Pe.push(this),Re()},Te=function(t,e){V.call(this,e),this.a=t,this.Ed=this.a.b.pru,this.Pc=this.a.b.ifrid,G&&Se()};if(z(Te,V),G)var Ue=[],Ve=0,Se=function(){Ve||(Ve=window.setTimeout(function(){We()},1e3))},We=function(t){var e=y();for(t=t||3e3;Ue.length&&e-Ue[0].timestamp>=t;){var n=Ue.shift().vd;Kb(n),L("iframe removed")}Ve=window.setTimeout(Xe,1e3)},Xe=function(){We()};var Ye={};Te.prototype.ma=3,Te.prototype.N=function(){this.e().xpcRelay||(this.e().xpcRelay=Ze),this.send("tp","SETUP")};var Ze=function(t,e){var n=e.indexOf(":"),i=e.substr(0,n),r=e.substr(n+1);if(F&&-1!=(n=i.indexOf("|"))){var s=i.substr(0,n),i=i.substr(n+1),n=i.indexOf("+"),a=i.substr(0,n),n=parseInt(i.substr(n+1),10),o=Ye[a];if(o||(o=Ye[a]={Ac:[],Sc:0,zc:0}),B(i,"++")&&(o.zc=n+1),o.Ac[n]=r,o.Sc++,o.Sc!=o.zc)return;r=o.Ac.join(""),delete Ye[a]}else var s=i;U[t].M(s,decodeURIComponent(r))};Te.prototype.xb=function(t){"SETUP"==t?(this.send("tp","SETUP_ACK"),ye(this.a)):"SETUP_ACK"==t&&ye(this.a)},Te.prototype.send=function(t,e){var n=encodeURIComponent(e),i=n.length;if(F&&i>1800)for(var r=Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^y()).toString(36),s=0,a=0;i>s;a++){var o=n.substr(s,1800),s=s+1800;$e(this,t,o,r+(s>=i?"++":"+")+a)}else $e(this,t,n)};var $e=function(t,e,n,i){if(F){var s,a=t.e().document.createElement("DIV");s=new jb,s.vb="this.xpcOnload()";var o={onload:s,sandbox:null},h={src:null,srcdoc:null},c={sandbox:""};s={};for(var l in h)C(l.toLowerCase()==l,"Must be lower case"),s[l]=h[l];for(l in c)C(l.toLowerCase()==l,"Must be lower case"),s[l]=c[l];for(l in o){var f=l.toLowerCase();if(f in h)throw Error('Cannot override "'+f+'" attribute, got "'+l+'" with value "'+o[l]+'"');f in c&&delete s[f],s[l]=o[l]}if(l=null,o="<iframe",s)for(var d in s){if(!wb.test(d))throw Error('Invalid attribute name "'+d+'".');if(c=s[d],null!=c){if(h=d,c instanceof jb)c=kb(c);else if("style"==h.toLowerCase()){if(!fa(c))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof c+" given: "+c);if(!(c instanceof mb)){var f="",p=void 0;for(p in c){if(!/^[-_a-zA-Z0-9]+$/.test(p))throw Error("Name allows only [-_a-zA-Z0-9], got: "+p);var b=c[p];if(null!=b){if(b instanceof jb)b=kb(b),C(!/[{;}]/.test(b),"Value does not allow [{;}].");else if(ob.test(b)){for(var v=!0,g=!0,m=0;m<b.length;m++){var w=b.charAt(m);"'"==w&&g?v=!v:'"'==w&&v&&(g=!g)}v&&g||(Aa("String value requires balanced quotes, got: "+b),b="zClosurez")}else Aa("String value allows only [-,.\"'%_!# a-zA-Z0-9], got: "+b),b="zClosurez";f+=p+":"+b+";"}}f?(C(!/[<>]/.test(f),"Forbidden characters in style string: "+f),c=(new mb).ib(f)):c=nb}f=void 0,c instanceof mb&&c.constructor===mb&&c.bd===lb?f=c.ob:(Aa("expected object of type SafeStyle, got '"+c+"'"),f="type_error:SafeStyle"),c=f}else{if(/^on/i.test(h))throw Error('Attribute "'+h+'" requires goog.string.Const value, "'+c+'" given.');if(h.toLowerCase()in xb)if(c instanceof sb)c instanceof sb&&c.constructor===sb&&c.ed===rb?c=c.Xb:(Aa("expected object of type TrustedResourceUrl, got '"+c+"'"),c="type_error:TrustedResourceUrl");else{if(!(c instanceof qb))throw Error('Attribute "'+h+'" on tag "iframe" requires goog.html.SafeUrl or goog.string.Const value, "'+c+'" given.');c instanceof qb&&c.constructor===qb&&c.cd===pb?c=c.fa:(Aa("expected object of type SafeUrl, got '"+c+"'"),c="type_error:SafeUrl")}}c.ya&&(c=c.ua()),C(u(c)||ea(c),"String or number value expected, got "+typeof c+" with value: "+c),h=h+'="'+wa(String(c))+'"',o+=" "+h}}d=void 0,null!=d?r(d)||(d=[d]):d=[],!0===hb.iframe?(C(!d.length,"Void tag <iframe> does not allow content."),o+=">"):(d=Bb(d),o+=">"+vb(d)+"</iframe>",l=d.Ka()),(s=s&&s.dir)&&(l=/^(ltr|rtl|auto)$/i.test(s)?0:null),s=yb(o,l),a.innerHTML=vb(s),a=a.childNodes[0],a.xpcOnload=af}else a=t.e().document.createElement("IFRAME"),G?Ue.push({timestamp:y(),vd:a}):ec(a,"load",af);s=a.style,s.visibility="hidden",s.width=a.style.height="0px",s.position="absolute",s=t.Ed,s+="#"+t.a.name,t.Pc&&(s+=","+t.Pc),s+="|"+e,i&&(s+="|"+i),s+=":"+n,a.src=s,t.e().document.body.appendChild(a),L("msg sent: "+s)},af=function(){L("iframe-load"),Kb(this)};Te.prototype.f=function(){Te.C.f.call(this),G&&We(0)};var Y=function(t,e,n,i,r){V.call(this,n),this.a=t,this.K=r||2,C(1<=this.K),C(2>=this.K),this.Oc=e||"*",this.ta=new J(this),this.S=new ad(100,this.e()),this.lb=!!i,this.r=new T,this.t=new T,this.o=new T,this.Kb=re(10),this.da=null,this.lb?1==W(this.a)?ke(this.o,this.r):ke(this.o,this.t):(ke(this.o,this.r),2==this.K&&ke(this.o,this.t)),je(this.o,this.Tb,this),this.o.w(!0),this.ta.jb(this.S,"tick",this.Pa),P("NativeMessagingTransport created.  protocolVersion="+this.K+", oneSidedHandshake="+this.lb+", role="+W(this.a))};z(Y,V),Y.prototype.v=null,Y.prototype.Q=!1,Y.prototype.ma=1;var bf={};Y.prototype.Ta=0;var df=function(t){var e=t.cb.data;if(!u(e))return!1;var n=e.indexOf("|"),i=e.indexOf(":");if(-1==n||-1==i)return!1;var r=e.substring(0,n),n=e.substring(n+1,i),e=e.substring(i+1);if(Q("messageReceived: channel="+r+", service="+n+", payload="+e),i=U[r])return i.M(n,e,t.cb.origin),!0;t=cf(e)[0];for(var s in U)if(i=U[s],1==W(i)&&!i.I()&&"tp"==n&&("SETUP"==t||"SETUP_NTPV2"==t))return se(i,r),i.M(n,e),!0;return P('channel name mismatch; message ignored"'),!1};Y.prototype.xb=function(t){var e=cf(t);switch(t=e[1],e[0]){case"SETUP_ACK":ef(this,1),this.r.F||this.r.w(!0);break;case"SETUP_ACK_NTPV2":2==this.K&&(ef(this,2),this.r.F||this.r.w(!0));break;case"SETUP":ef(this,1),this.tb(1);break;case"SETUP_NTPV2":2==this.K&&(e=this.v,ef(this,2),this.tb(2),1!=e&&null==this.da||this.da==t||(P("Sending SETUP and changing peer ID to: "+t),this.Sa()),this.da=t)}},Y.prototype.Sa=function(){if(C(!(1==this.K&&2==this.v)),2==this.K&&(null==this.v||2==this.v)){var t;t="SETUP_NTPV2,"+this.Kb,this.send("tp",t)}null!=this.v&&1!=this.v||this.send("tp","SETUP")},Y.prototype.tb=function(t){if(C(1!=this.K||2!=t,"Shouldn't try to send a v2 setup ack in v1 mode."),2!=this.K||null!=this.v&&2!=this.v||2!=t){if(null!=this.v&&1!=this.v||1!=t)return;this.send("tp","SETUP_ACK")}else this.send("tp","SETUP_ACK_NTPV2");this.t.F||this.t.w(!0)};var ef=function(t,e){e>t.v&&(t.v=e),1==t.v&&(t.t.F||t.lb||t.t.w(!0),t.da=null)};h=Y.prototype,h.N=function(){var t=this.e(),e=ia(t),n=bf[e];ea(n)||(n=0),0==n&&ec(t.postMessage?t:t.document,"message",df,!1,Y),bf[e]=n+1,this.Q=!0,this.Pa()},h.Pa=function(){var t=0==W(this.a);this.lb&&t||this.a.I()||this.V?this.S.stop():(this.S.start(),this.Sa())},h.send=function(t,e){var n=this.a.A;n?(this.send=function(t,e){var i=this,r=this.a.name;this.Ta=bd(function(){i.Ta=0;try{var s=n.postMessage?n:n.document;s.postMessage?(s.postMessage(r+"|"+t+":"+e,i.Oc),Q("send(): service="+t+" payload="+e+" to hostname="+i.Oc)):O(K,"Peer window had no postMessage function.")}catch(a){O(K,"Error performing postMessage, ignoring.",a)}},0)},this.send(t,e)):Q("send(): window not ready")},h.Tb=function(){ye(this.a,1==this.K||1==this.v?200:void 0)},h.f=function(){if(this.Q){var t=this.e(),e=ia(t),n=bf[e];bf[e]=n-1,1==n&&mc(t.postMessage?t:t.document,"message",df,!1,Y)}this.Ta&&(m.clearTimeout(this.Ta),this.Ta=0),Nb(this.ta),delete this.ta,Nb(this.S),delete this.S,this.r.cancel(),delete this.r,this.t.cancel(),delete this.t,this.o.cancel(),delete this.o,delete this.send,Y.C.f.call(this)};var cf=function(t){return t=t.split(","),t[1]=t[1]||null,t},ff=function(t,e){V.call(this,e),this.a=t,this.jc=t.at||"",this.Uc=t.rat||"";var n=this.e();if(!n.nix_setup_complete)try{n.execScript("Class GCXPC____NIXVBS_wrapper\n Private m_Transport\nPrivate m_Auth\nPublic Sub SetTransport(transport)\nIf isEmpty(m_Transport) Then\nSet m_Transport = transport\nEnd If\nEnd Sub\nPublic Sub SetAuth(auth)\nIf isEmpty(m_Auth) Then\nm_Auth = auth\nEnd If\nEnd Sub\nPublic Function GetAuthToken()\n GetAuthToken = m_Auth\nEnd Function\nPublic Sub SendMessage(service, payload)\n Call m_Transport.GCXPC____NIXJS_handle_message(service, payload)\nEnd Sub\nPublic Sub CreateChannel(channel)\n Call m_Transport.GCXPC____NIXJS_create_channel(channel)\nEnd Sub\nPublic Sub GCXPC____NIXVBS_container()\n End Sub\nEnd Class\n Function GCXPC____NIXVBS_get_wrapper(transport, auth)\nDim wrap\nSet wrap = New GCXPC____NIXVBS_wrapper\nwrap.SetTransport transport\nwrap.SetAuth auth\nSet GCXPC____NIXVBS_get_wrapper = wrap\nEnd Function","vbscript"),n.nix_setup_complete=!0}catch(i){N("exception caught while attempting global setup: "+i)}this.GCXPC____NIXJS_handle_message=this.td,this.GCXPC____NIXJS_create_channel=this.md};z(ff,V),h=ff.prototype,h.ma=6,h.Ba=!1,h.ba=null,h.N=function(){0==W(this.a)?this.gc():this.fc()},h.gc=function(){if(!this.Ba){var t=this.a.xa;try{t.contentWindow.opener=this.e().GCXPC____NIXVBS_get_wrapper(this,this.jc),this.Ba=!0}catch(e){N("exception caught while attempting setup: "+e)}this.Ba||this.e().setTimeout(x(this.gc,this),100)}},h.fc=function(){if(!this.Ba){try{var t=this.e().opener;if(t&&"GCXPC____NIXVBS_container"in t){if(this.ba=t,this.ba.GetAuthToken()!=this.Uc)return void N("Invalid auth token from other party");this.ba.CreateChannel(this.e().GCXPC____NIXVBS_get_wrapper(this,this.jc)),this.Ba=!0,ye(this.a)}}catch(e){return void N("exception caught while attempting setup: "+e)}this.Ba||this.e().setTimeout(x(this.fc,this),100)}},h.md=function(t){"unknown"==typeof t&&"GCXPC____NIXVBS_container"in t||N("Invalid NIX channel given to createChannel_"),this.ba=t,this.ba.GetAuthToken()!=this.Uc?N("Invalid auth token from other party"):ye(this.a)},h.td=function(t,e){this.e().setTimeout(x(function(){this.a.M(t,e)},this),1)},h.send=function(t,e){"unknown"!=typeof this.ba&&N("NIX channel not connected"),this.ba.SendMessage(t,e)},h.f=function(){ff.C.f.call(this),this.ba=null};var Z=function(t,e){Fd.call(this);for(var n,i=0;n=pe[i];i++)if(n in t&&!/^https?:\/\//.test(t[n]))throw Error("URI "+t[n]+" is invalid for field "+n);this.b=t,this.name=this.b.cn||re(10),this.O=e||Fb(),this.bb=[],this.nb=new J(this),t.lpu=t.lpu||Kd(this.O.e().location.href)+"/robots.txt",t.ppu=t.ppu||Kd(t.pu||"")+"/robots.txt",U[this.name]=this,oc(window,"unload",gf)||lc(window,"unload",gf),P("CrossPageChannel created: "+this.name)};z(Z,Fd);var hf=/^%*tp$/,jf=/^%+tp$/;h=Z.prototype,h.Z=null,h.T=null,h.p=null,h.j=1,h.I=function(){return 2==this.j},h.A=null,h.xa=null;var Ee=function(t){try{return!!t.A&&!Boolean(t.A.closed)}catch(e){return!1}},mf=function(t){var e=document.body;P("createPeerIframe()");var n=t.b.ifrid;n||(n=t.b.ifrid="xpcpeer"+re(4));var i=Fb(e).createElement("IFRAME");i.id=i.name=n,i.style.width=i.style.height="100%",kf(t),t.T=new T(void 0,t);var r=lf(t);ed(t.nb,i,"load",t.T.w,!1,t.T),Sa||G?window.setTimeout(x(function(){e.appendChild(i),i.src=r.toString(),P("peer iframe created ("+n+")")},t),1):(i.src=r.toString(),e.appendChild(i),P("peer iframe created ("+n+")"))},kf=function(t){t.T&&(t.T.cancel(),t.T=null),t.bb.length=0,t.nb.qb()},lf=function(t){var e=t.b.pu;u(e)&&(e=t.b.pu=new R(e));var n={};return n.cn=t.name,n.tp=t.b.tp,n.osh=t.b.osh,t.b.lru&&(n.pru=t.b.lru),t.b.lpu&&(n.ppu=t.b.lpu),t.b.ppu&&(n.lpu=t.b.ppu),(t=t.b.role)&&(n.role=1==t?0:1),t=e,n=id(n),S(t),t.L.set("xpc",n),e};Z.prototype.N=function(t){this.Ib=t||ba,3==this.j&&(this.j=1),this.T?je(this.T,this.oc):this.oc()},Z.prototype.oc=function(){if(P("continueConnection_()"),this.T=null,this.b.ifrid){var t=this.b.ifrid;this.xa=u(t)?this.O.$.getElementById(t):t}if(this.xa&&((t=this.xa.contentWindow)||(t=window.frames[this.b.ifrid]),this.A=t),!this.A){if(window==window.top)throw Error("CrossPageChannel: Can't connect, peer window-object not set.");this.A=window.parent}if(!this.p){if(!this.b.tp){var e,t=this.b;if(w(document.postMessage)||w(window.postMessage)||F&&window.postMessage)e=1;else if(Sa)e=2;else if(F&&this.b.pru)e=3;else{var n;if(n=F){n=!1;try{e=window.opener,window.opener={},n=Qb(window,"opener"),window.opener=e}catch(i){}}e=n?6:4}t.tp=e}switch(this.b.tp){case 1:this.p=new Y(this,this.b.ph,this.O,!!this.b.osh,this.b.nativeProtocolVersion||2);break;case 6:this.p=new ff(this,this.O);break;case 2:this.p=new ze(this,this.O);break;case 3:this.p=new Te(this,this.O);break;case 4:this.p=new X(this,this.O);break;case 7:if(t=this.A)try{t=window.document.domain==this.A.document.domain}catch(r){t=!1}t?this.p=new te(this,this.O):P("DirectTransport not supported for this window, peer window in different security context or not set yet.")}if(!this.p)throw Error("CrossPageChannel: No suitable transport found!");P("Transport created: "+this.p.getName())}for(this.p.N();0<this.bb.length;)this.bb.shift()()},Z.prototype.close=function(){kf(this),this.j=3,Nb(this.p),this.Ib=this.p=null,Nb(this.Z),this.Z=null,P('Channel "'+this.name+'" closed')};var ye=function(t,e){t.I()||t.Z&&0!=t.Z.G||(t.j=2,P('Channel "'+t.name+'" connected'),Nb(t.Z),p(e)?(t.Z=new cd(t.Ib,e),t.Z.start()):(t.Z=null,t.Ib()))};Z.prototype.send=function(t,e){this.I()?Ee(this)?(fa(e)&&(e=id(e)),this.p.send(nf(t),e)):(N("Peer has disappeared."),this.close()):N("Can't send. Channel not connected.")},Z.prototype.M=function(t,e,n){if(this.T)this.bb.push(x(this.M,this,t,e,n));else{var i=this.b.ph;if(/^[\s\xa0]*$/.test(null==n?"":String(n))||/^[\s\xa0]*$/.test(null==i?"":String(i))||n==this.b.ph)if(this.V||3==this.j)O(K,"CrossPageChannel::xpcDeliver(): Channel closed.");else if(t&&"tp"!=t)if(this.I()){if(t=t.replace(/%[0-9a-f]{2}/gi,decodeURIComponent),t=jf.test(t)?t.substring(1):t,n=this.ac[t],n||(this.tc?n={w:la(this.tc,t),Lc:fa(e)}:(O(this.Rb,'Unknown service name "'+t+'"'),n=null)),n){var r;t:{if((i=n.Lc)&&u(e))try{r=fd(e);break t}catch(s){O(this.Rb,"Expected JSON payload for "+t+', was "'+e+'"'),r=null;break t}else if(!i&&!u(e)){r=id(e);break t}r=e}null!=r&&n.w(r)}}else P("CrossPageChannel::xpcDeliver(): Not connected.");else this.p.xb(e);else O(K,'Message received from unapproved origin "'+n+'" - rejected.')}};var nf=function(t){return hf.test(t)&&(t="%"+t),t.replace(/[%:|]/g,encodeURIComponent)},W=function(t){var e=t.b.role;return ea(e)?e:window.parent==t.A?1:0},se=function(t,e){Q("changing channel name to "+e),delete U[t.name],t.name=e,U[e]=t};Z.prototype.f=function(){this.close(),this.xa=this.A=null,delete U[this.name],Nb(this.nb),delete this.nb,Z.C.f.call(this)};var gf=function(){for(var t in U)Nb(U[t])},of=function(t,e,n,i,r,s){i=new R(i||window.location.href);var a=new R;r=r?r:Math.floor(1e3*Math.random())+".talkgadget.google.com",Nd(a,r),Pd(a,"/talkgadget/d"),S(a),a.L.set("token",t),s&&Od(a,s),t=n||"wcs-iframe",n="#"+t+" { display: none; }";var o=Fb(void 0),h=null,c=o.$;if(F&&c.createStyleSheet)o=h=c.createStyleSheet(),F&&p(o.cssText)?o.cssText=n:o.innerHTML=n;else{c=Lb(o,"HEAD")[0],c||(h=Lb(o,"BODY")[0],c=o.qc("HEAD"),h.parentNode.insertBefore(c,h));var u=h=o.qc("STYLE");F&&p(u.cssText)?u.cssText=n:u.innerHTML=n,o.appendChild(c,h)}n={},o=new R,Nd(o,r),s&&Od(o,s),Pd(o,"/talkgadget/xpc_blank"),"http"==i.B||"https"==i.B?(Md(a,i.B),Md(o,i.B),s=new R,Md(s,i.B),Nd(s,i.aa),80!=i.ea&&Od(s,i.ea),Pd(s,e)):(Md(a,"http"),Md(o,"http"),s=new R("http://www.google.com/xpc_blank")),n.lpu=s.toString(),n.ppu=o.toString(),n.ifrid=t,n.pu=a.toString(),Z.call(this,n)
};z(of,Z);var qf=function(t,e,n,i,r){if(this.readyState=0,this.Yb=[],this.onopen=e.onopen,this.onmessage=e.onmessage,this.onerror=e.onerror,this.onclose=e.onclose,this.ha=n||new of(t,"/_ah/channel/xpc_blank"),this.Dc=n?i:"wcs-iframe",this.Hc=r||new pf(t),!document.body)throw"document.body is not defined -- do not create socket from script in <head>.";mf(this.ha),Gd(this.ha,"onOpened",x(this.Cd,this)),Gd(this.ha,"onMessage",x(this.Bd,this)),Gd(this.ha,"onError",x(this.Ad,this)),Gd(this.ha,"onClosed",x(this.Nc,this)),this.ha.N(x(this.zd,this))};qf.prototype.send=function(){return!1},qf.prototype.close=function(){this.Nc()},qf.prototype.Kd=function(){for(var t,e=0;t=this.Yb[e];e++)switch(t.type){case 0:this.onopen(t.eb);break;case 1:this.onmessage(t.eb);break;case 2:this.onerror(t.eb);break;case 3:this.onclose(t.eb)}this.Yb=[]};var rf=function(t,e,n){t.Yb.push({type:e,eb:n}),window.setTimeout(x(t.Kd,t),1)},sf=function(t){return"string"==typeof t?window.JSON&&window.JSON.parse?window.JSON.parse(t):fd(t):t};h=qf.prototype,h.Bd=function(t){var e=sf(t);if(e){t=e.m;for(var e=e.s,n=this.Hc,i=[],r=0,s=0;s<t.length;s++){for(var a=t.charCodeAt(s);a>255;)i[r++]=255&a,a>>=8;i[r++]=a}i.push(n.ub);t:if(n=n.ud,n.reset(),n.update(i),i=n.Ja(),da(i)&&da(e)&&i.length==e.length){for(n=i.length,r=0;n>r;r++)if(i[r]!==e[r]){e=!1;break t}e=!0}else e=!1;e&&(rf(this,1,{data:t}),this.Hc.ub++)}},h.Ad=function(t){(t=sf(t))&&rf(this,2,{description:t.d,code:t.c})},h.zd=function(){},h.Cd=function(){this.readyState=1,rf(this,0,{})},h.Nc=function(){if(Nb(this.ha),this.readyState=3,rf(this,3,{}),this.Dc){var t,e=new Eb;t=this.Dc,(t=u(t)?e.$.getElementById(t):t)&&e.removeNode(t)}};var pf=function(t){for(;0!=t.length%4;)t+=".";this.ub=0;try{if(!ab){ab={},bb={},cb={};for(var e=0;65>e;e++)ab[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),bb[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e),cb[bb[e]]=e,e>=62&&(cb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)]=e)}for(var e=cb,n=[],i=0;i<t.length;){var r=e[t.charAt(i++)],s=i<t.length?e[t.charAt(i)]:0;++i;var a=i<t.length?e[t.charAt(i)]:64;++i;var o=i<t.length?e[t.charAt(i)]:64;if(++i,null==r||null==s||null==a||null==o)throw Error();n.push(r<<2|s>>4),64!=a&&(n.push(s<<4&240|a>>2),64!=o&&n.push(a<<6&192|o))}this.Yc=n}catch(h){if(h.message)throw Error("The provided token is invalid ("+h.name+": "+h.message+")");throw Error("The provided token is invalid.")}this.u=new fb,this.ud=new eb(this.u,this.Yc,this.Yc.length)},tf=function(t){this.Od=t},uf={onopen:function(){},onclose:function(){},onerror:function(){},onmessage:function(){}};tf.prototype.open=function(t){return t=t||uf,new qf(this.Od,t)},q("goog.appengine.Socket",qf,void 0),q("goog.appengine.Socket.ReadyState",{CONNECTING:0,OPEN:1,Pd:2,CLOSED:3},void 0),q("goog.appengine.Socket.ReadyState.CONNECTING",0,void 0),q("goog.appengine.Socket.ReadyState.OPEN",1,void 0),q("goog.appengine.Socket.ReadyState.CLOSING",2,void 0),q("goog.appengine.Socket.ReadyState.CLOSED",3,void 0),q("goog.appengine.Socket.prototype.send",qf.prototype.send,void 0),q("goog.appengine.Socket.prototype.close",qf.prototype.close,void 0),q("goog.appengine.Channel",tf,void 0),q("goog.appengine.Channel.prototype.open",tf.prototype.open,void 0),q("chat.WcsCrossPageChannel",of,void 0)}();